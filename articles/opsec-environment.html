<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/articles.css">
    <link rel="icon" type="image/x-icon" href="/img/home/icon.png" />
    <title>opsec environment.</title>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a target="_blank" href="/index.html">
        <img id="main" src="/img/articles/angel-article.png" alt="Angel">
        </a>
    </nav>

    <!-- Main Content -->
    <main class="content">
        <header class="article-header">
            <h1>Configuração de ambiente OPSEC</h1>
            <p class="meta">
                <span>dez 18, 2024</span> by <a target="_blank" href="https://www.linkedin.com/in/brennocm/">Brenno M.</a>
            </p>
        </header>
        <section class="article-body">
            <p>
                Em um mundo cada vez mais conectado, proteger a privacidade online tornou-se essencial, destacando a importância da busca pela anonimidade. Diante disso, este artigo tem como objetivo abordar a configuração de um ambiente Windows virtualizado, no qual todo o tráfego é encaminhado através da rede Tor por meio do Whonix-Gateway, garantindo, assim, uma camada adicional de segurança e proteção.
                <br><br>
                Para isso, será utilizado o VirtualBox, Windows 10 e Whonix. 
                
            </p>
            <h2>Conceitos</h2>
            <p>
               <b>Virtualização</b> 
               <br><br>
               A virtualização é uma tecnologia que permite criar versões virtuais de recursos computacionais, como sistemas operacionais, servidores ou redes, em um único hardware físico. Ela utiliza um hipervisor para alocar e gerenciar esses recursos, permitindo que múltiplas máquinas virtuais operem de forma independente e isolada no mesmo dispositivo físico.
               <br><br>
               <i><b>*</b>Vale destacar que virtualização e conteinerização são conceitos distintos.</i>
            </p>
            <p>
                <br>
                <b>VirtualBox</b> 
                <br><br>
                O VirtualBox é um software de virtualização de código aberto desenvolvido pela Oracle, utilizado para criar e gerenciar máquinas virtuais em sistemas operacionais como Windows, Linux e macOS, na qual se tornam hospedeiros para as entidades virtualizadas. Em suma, ele permite que o usuário execute múltiplos sistemas operacionais virtualizados a partir de um mesmo computador físico.
            </p>
            <p>
                <br>
                <b>Whonix</b> 
                <br><br>
                O Whonix é um sistema operacional focado em anonimidade e segurança, projetado para proteger a identidade do usuário online. Ele é composto por duas máquinas virtuais: Whonix-Gateway, que roteia todo o tráfego através da rede Tor, e Whonix-Workstation, onde as aplicações são executadas de forma isolada.
            </p>
            <p>
                <br>
                <b>Rede Tor</b> 
                <br><br>
                A rede Tor (The Onion Router) é uma rede de comunicação que permite anonimizar a navegação na internet ao encaminhar o tráfego de dados por uma série de nós (servidores) distribuídos globalmente. A comunicação é criptografada em várias camadas, como as camadas de uma cebola, garantindo que a origem, o destino e o conteúdo dos dados sejam protegidos.
                <br><br>
                Para a criação de sites na rede tor, <a target="_blank" href="/articles/creating-tor-website.html">clique aqui</a>.
            </p>
            <p>
                <br>
                <b>Windows</b> 
                <br><br>
                O Windows é um sistema operacional desenvolvido pela Microsoft, amplamente utilizado em computadores pessoais, corporativos e servidores. Ele fornece uma interface gráfica amigável e ferramentas essenciais que permitem ao usuário interagir com o hardware, executar programas, gerenciar arquivos e conectar-se à internet.
            </p>
            <br>
            <h2>Hands-on</h2>
            <p>
                <b>Instalação do VirtualBox</b> 
                <br><br>
                A princípio, para a virtualização de todo o sistema, necessita-se da instalação do VirtualBox, utilize o <a target="_blank" href="https://www.virtualbox.org/wiki/Downloads">site oficial</a>. Para isso, e escolha o binário de acordo com o sistema operacional instalado em sua máquina física (por exemplo, a opção Windows hosts para usuários do sistema operacional windows).
            </p>
            <img id="main" src="../img/articles/opsec-environment/01-virtualbox-installation.png" alt="01-virtualbox-installation">
            <p>
                Na tela de instalação, selecione os componentes padrões recomendados, além de concordar com os avisos de "Network interfaces".
            </p>
            <p>
                <br>
                <b>Instalação do Whonix</b> 
                <br><br>
                No <a target="_blank" href="https://www.whonix.org/wiki/Download">site oficial</a>, baixe o Whonix voltado ao VirtualBox.
            </p>
            <img id="main" src="../img/articles/opsec-environment/02-whonix-installation.png" alt="02-whonix-installation">
            <p>
                Em seguida, após o download, abra o arquivo .ova com um duplo clique, e não altere as configurações padrões, além de concordar com a licença de uso do software. 
                <img id="main" src="../img/articles/opsec-environment/03-whonix-installation.png" alt="03-whonix-installation">
            </p>
            <p>
                Após a importação, espera-se ter duas novas intâncias no Virtual Box (Whonix-Gateway-Xfce e Whonix-Workstation-Xfce).
                <img id="main" src="../img/articles/opsec-environment/04-whonix-installation.png" alt="04-whonix-installation">
            </p>
            <p>
                Em seguida, inicialize ambas as máquinas. A princípio, ambas as instâncias fazem o systemcheck, a fim de validar a instalação.
                <img id="main" src="../img/articles/opsec-environment/05-whonix-installation.png" alt="05-whonix-installation">
            </p>
            <p>
                Logo depois, nas mensagens de aviso, selecione OK. No Whonix-Workstation, abra o navegador e acesse o site <a target="_blank" href="https://check.torproject.org/">https://check.torproject.org/</a> , na qual valida a conexão com a rede tor. Após essa ação, desligue ambas as máqunas virtuais.
                <img id="main" src="../img/articles/opsec-environment/06-whonix-installation.png" alt="06-whonix-installation">
            </p>
            <p>
                <br>
                <b>Instalação do Windows</b> 
                <br><br>
                No <a target="_blank" href="https://www.microsoft.com/pt-br/software-download/windows10">site oficial</a>, baixe o Media Creator Tool, da Microsoft.
                <img id="main" src="../img/articles/opsec-environment/07-windows-installation.png" alt="07-windows-installation">
            </p>
            <p>
                Posteriormente, com a ferramenta inicializada, opte por baixar a ISO do Windows.
                <img id="main" src="../img/articles/opsec-environment/08-windows-installation.png" alt="08-windows-installation">
            </p>
            <p>
                No virtualBox, crie uma máquina virtual com a ISO do Windows 10 recém baixada.
                <img id="main" src="../img/articles/opsec-environment/09-windows-installation.png" alt="09-windows-installation">
            </p>
            <p>
                Em seguida, prossiga com a instalação de forma convencional. 
                <img id="main" src="../img/articles/opsec-environment/10-windows-installation.png" alt="10-windows-installation">
            </p>
            <p>
                <br>
                <b>Conexão Windows 10 - Whonix</b> 
                <br><br>
                Após a instalação do Windows na máquina virtual, além da devida atualização dos drivers e do sistema operacional, desligue a instância. No menu do virtual box, na máquina recém criada, opte por "Configurações", e busque por "Rede". Nesse momento, selecione "Rede Interna".
                <img id="main" src="../img/articles/opsec-environment/11-windows-whonix-connection.png" alt="11-windows-whonix-connection">
            </p>
            <p>
                Após a configuração anterior, execute, <b>primeiramente</b>, a instância Whonix Gateway. Em seguida, após sua inicialização completa, ligue a máquina virtual Windows.
                <img id="main" src="../img/articles/opsec-environment/12-windows-whonix-connection.png" alt="12-windows-whonix-connection">
            </p>
            <p>
                Ao inicializar o Windows 10, no painel de controle, opte por <b>Rede e Internet</b> > <b>Central de rede e compartilhamento</b> > <b>Alterar as configurações do adaptador</b>. Ao clicar com o botão direito em <b>Ethernet</b>, selecione <b>Propriedades</b>
                <img id="main" src="../img/articles/opsec-environment/13-windows-whonix-connection.png" alt="13-windows-whonix-connection">
            </p>
            <p>
                Em seguida, busque por <b>Procolo IP Versão 4 (TCP/IPv4)</b>. Ao encontra-lo, selecione <b>Propriedades</b>
                <img id="main" src="../img/articles/opsec-environment/14-windows-whonix-connection.png" alt="14-windows-whonix-connection">
            </p>
            <p>
                Por fim, selecione <b>Usar o seguinte endereço IP</b>, e opte por:
                <br><br>
                <b>Endereço IP:</b> 10.152.152.100
                <br>
                <b>Máscara de sub-rede:</b> 255.0.0.0
                <br>
                <b>Gateway padrão:</b> 10.152.152.10
                <br>
                <b>DNS preferencial:</b> 10.152.152.10
                <br><br>
                Logo depois, clique em <b>OK</b> para salvar
                <img id="main" src="../img/articles/opsec-environment/15-windows-whonix-connection.png" alt="15-windows-whonix-connection">
            </p>
            <p>
                <br>
                <b>Teste de conexão</b> 
                <br><br>
                A fins de validação, no navegador, acesse <a target="_blank" href="https://whoer.net/">https://whoer.net/</a>. Caso todas as etapas anteriores tenham sido concluídas com sucesso, o retorno da análise do site acessado será um IP pertencente à rede Tor.
                <img id="main" src="../img/articles/opsec-environment/16-windows-whonix-connection.png" alt="16-windows-whonix-connection">
            </p>
            <p>
                Com isso, obtêm-se um ambiente Windows na qual todo seu tráfego é passado pela rede tor, de forma nativa.
            </p>
            <p>
                <br>
                <b>Extras</b> 
                <br><br>
                - A utilização de VPN no sistema operacional principal (host) pode ser extremamente eficiente, a fim de adicionar uma camada extra de anonimidade além de evitar que o provedor de internet identifique o uso constante do Tor;<br><br>
                - O uso de extensões voltadas a privacidade são grandes aliadas para a busca pela anonimidade, como:  <a href="https://chromewebstore.google.com/detail/privacy-badger/pkehgijcmpdhfbdbbnkijodmdjhbjlgp" target="_blank">Privacy Badger</a>, <a href="https://chromewebstore.google.com/detail/smart-https/cmleijjdpceldbelpnpkddofmcmcaknm" target="_blank">Smart HTTPS</a>, <a href="https://chromewebstore.google.com/detail/ublock-origin-lite/ddkjiahejlhfcafbddmgiahcphecmpfh" target="_blank">uBlock Origin</a> e <a href="https://chromewebstore.google.com/detail/user-agent-switcher-and-m/bhchdcejhohfmigjafbampogmaanbfkg" target="_blank">User-Agent Switcher and Manager</a>;<br><br>
                - Perante o cenário nacional, recomendo a leitura da obra <a target="_blank" href="https://www.amazon.com.br/Opsec-Vin%C3%ADcius-Vieira/dp/6500384989/">OPSEC, Inteligência Cibernética na Prática</a>, do autor <a target="_blank" href="https://www.linkedin.com/in/v1n1v131r4/">Vinícius Vieira</a>.
            </p>
        </section>
    </main>
    <br>
    <footer>
        <p>&copy; 20∞</p>
    </footer>
</body>
</html>
